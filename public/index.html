<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Test page</title>
	<script type="text/javascript" src="/scripts/jquery-2.0.3.min.js"></script>
	<script type="text/javascript">
	$(function() {
		$('#testBtn').click(function() {
			$.ajax({
				type: 'POST',
				url: '/api/hip',
				cache: false,
				data: {email: $('#email').val(), password: $('#pass').val(), location: { lat: $('#lat').val(), lng: $('#lng').val()}},
				dataType: 'json',
				success: function(data) {
					console.log(data);
					$('#result').val(JSON.stringify(data));
				}
			});
		});
		$('#updateBtn').click(function() {
			$.ajax({
				type: 'PUT',
				url: '/api/hip',
				cache: false,
				data: {id: $('#uid').val(), location: { lat: $('#lat').val(), lng: $('#lng').val() }},
				dataType: 'json',
				success: function(data) {
					console.log(data);
					$('#result').val(JSON.stringify(data));
				}
			});
		});
		$('#btnFindByEmail').click(function() {
			$.ajax({
				type: 'POST',
				url: '/api/hip/search',
				cache: false,
				data: {email: $('#email').val(), password: $('#pass').val()},
				dataType: 'json',
				success: function(data) {
					console.log(data);
					$('#result').val(JSON.stringify(data));
				}
			});
		});
		$('#btnFindById').click(function() {
			$.getJSON('/api/hip/' + $('#search-email').val(), function (data) {
				console.log(data);
				$('#result').val(JSON.stringify(data));
			});
		});
	});
	</script>
</head>
<body>
	Id: <input type="text" id="uid" /><br />
	Email: <input type="text" id="email" /><br />
	Pass: <input type="password" id="pass" /><br />
	lat: <input type="text" id="lat" /><br />
	lng: <input type="text" id="lng" /><br />
	<button id="testBtn">Create user</button>
	<button id="updateBtn">Update user</button>
	<br />
	<br />
	<br />
	<input type="text" id="search-email" /><br />
	<button id="btnFindByEmail">Find by email</button>
	<button id="btnFindById">Find by _id</button><br />
	<textarea name="result" id="result" cols="150" rows="30"></textarea>
</body>
</html>